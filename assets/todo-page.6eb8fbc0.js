import{r as C,d as S,o as u,c as p,t as V,g as $,v as b,u as n,e as _,i as w,h as K,F as f,j as B,n as D,k as x,l as R,a as T,m as L,_ as N,f as z,p as F,b as H}from"./index.a16886ec.js";function M(){let t=0;const o=C(""),a=C([]);let s,v,r;const d=()=>{o.value==""?alert("empty todo"):(a.value.unshift({id:t++,todo:o.value}),o.value="")},g=l=>a.value.findIndex(I=>I===l),E=l=>{a.value[g(l)].editing=!a.value[g(l)].editing},m=l=>{a.value[g(l)].done=!a.value[g(l)].done},k=l=>{a.value=a.value.filter(I=>I.id!==l)};return{todoInput:o,todos:a,add:d,toggleEdit:E,toggleDone:m,remove:k,dragStart:l=>{v=g(l),s=l},dragEnter:l=>{r=g(l)},drop:()=>{v<r?a.value.splice(r+1,0,{id:t++,todo:s.todo,editing:s.editing,done:s.done}):a.value.splice(r,0,{id:t++,todo:s.todo,editing:s.editing,done:s.done}),k(s.id)}}}const P={class:"material-symbols-outlined"},h=S({__name:"material-icon",props:{icon:String},setup(t){const o=t;return(a,s)=>(u(),p("span",P,V(o.icon),1))}});var y=(t=>(t.EDIT="edit",t.CHECK_CIRCLE="check_circle",t.DELETE="delete",t))(y||{});const j=["onDragstart","onDragenter"],q=["onUpdate:modelValue","onChange"],A={class:"buttons"},G=S({__name:"todo-list",setup(t){const{todoInput:o,todos:a,add:s,toggleEdit:v,toggleDone:r,remove:d,dragStart:g,dragEnter:E,drop:m}=M();return(k,c)=>(u(),p(f,null,[$(_("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>w(o)?o.value=e:null),onKeydown:c[1]||(c[1]=K((...e)=>n(s)&&n(s)(...e),["enter"]))},null,544),[[b,n(o)]]),(u(!0),p(f,null,B(n(a),e=>(u(),p("ul",{key:e.id},[_("li",{draggable:"true",onDragstart:i=>n(g)(e),onDragenter:L(i=>n(E)(e),["prevent"]),onDragover:c[2]||(c[2]=L(()=>{},["prevent"])),onDrop:c[3]||(c[3]=(...i)=>n(m)&&n(m)(...i))},[e.editing?x("",!0):(u(),p("span",{key:0,class:D(["todo",{done:e.done}])},V(e.todo),3)),e.editing?$((u(),p("input",{key:1,type:"input","onUpdate:modelValue":i=>e.todo=i,onChange:i=>n(v)(e)},null,40,q)),[[b,e.todo,void 0,{lazy:!0}]]):x("",!0),_("div",A,[e.done?x("",!0):(u(),R(h,{key:0,icon:n(y).EDIT,class:D({editing:e.editing}),onClick:i=>n(v)(e)},null,8,["icon","class","onClick"])),T(h,{icon:n(y).CHECK_CIRCLE,onClick:i=>n(r)(e),class:D({done:e.done})},null,8,["icon","onClick","class"]),T(h,{icon:n(y).DELETE,id:"delete",onClick:i=>n(d)(e.id)},null,8,["icon","onClick"])])],40,j)]))),128))],64))}});const J=N(G,[["__scopeId","data-v-56ce9cd7"]]);function O(){const t=C(""),o=C([]);return{categoryInput:t,categories:o,createCategory:()=>{o.value.push(t.value),t.value=""}}}const U=t=>(F("data-v-4bb55a30"),t=t(),H(),t),Q=U(()=>_("header",null,[_("h1",null,"To-do")],-1)),W=U(()=>_("h2",null,"Create a category",-1)),X=S({__name:"todo-page",setup(t){const{categoryInput:o,categories:a,createCategory:s}=O();return(v,r)=>(u(),p(f,null,[Q,_("section",null,[W,$(_("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>w(o)?o.value=d:null),onKeydown:r[1]||(r[1]=K((...d)=>n(s)&&n(s)(...d),["enter"]))},null,544),[[b,n(o)]]),(u(!0),p(f,null,B(n(a),d=>(u(),p("h3",{key:d},[z(V(d)+" ",1),T(J)]))),128))])],64))}});const Z=N(X,[["__scopeId","data-v-4bb55a30"]]);export{Z as default};
